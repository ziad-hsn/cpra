panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x6ed4d6]

goroutine 1 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map1[...]).Set(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:199
cpra/internal/controller/entities.(*EntityManager).CreateEntityFromMonitor(0xc000244160, 0xc00002fa90)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/entities/mapper.go:143 +0x136
cpra/internal/controller.NewCPRaWorld(0xc00002fd00)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/world.go:23 +0x1af
cpra/internal/controller/systems.NewScheduler(0xc006bdfb30?, 0xc0058a82f0, 0x5f5e100)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:30 +0x25
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:71 +0x525
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x6ed4d6]

goroutine 1 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map1[...]).Set(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:199
cpra/internal/controller/entities.(*EntityManager).CreateEntityFromMonitor(0xc000244160, 0xc00002fa90)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/entities/mapper.go:143 +0x136
cpra/internal/controller.NewCPRaWorld(0xc00002fd00)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/world.go:23 +0x1af
cpra/internal/controller/systems.NewScheduler(0xc0069965a0?, 0xc00558c9a0, 0x5f5e100)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:30 +0x25
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:71 +0x525
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x6ed4b3]

goroutine 1 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map1[...]).Set(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:199
cpra/internal/controller/entities.(*EntityManager).CreateEntityFromMonitor(0xc000244160, {{0xc00001dce0, 0x21}, 0x1, {{0xc00030006c, 0x4}, 0x3b9aca00, 0x3b9aca00, 0x2, {0x0, ...}, ...}, ...})
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/entities/mapper.go:143 +0x133
cpra/internal/controller.NewCPRaWorld(0xc006597d00)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/world.go:23 +0x1d9
cpra/internal/controller/systems.NewScheduler(0xc00640e140?, 0xc000012100, 0x5f5e100)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:30 +0x25
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:71 +0x525
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x6ed4b3]

goroutine 1 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map1[...]).Set(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:199
cpra/internal/controller/entities.(*EntityManager).CreateEntityFromMonitor(0xc000244160, {{0xc000110060, 0x21}, 0x1, {{0xc00011e06c, 0x4}, 0x3b9aca00, 0x3b9aca00, 0x2, {0x0, ...}, ...}, ...})
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/entities/mapper.go:147 +0x133
cpra/internal/controller.NewCPRaWorld(0xc00698fd00)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/world.go:23 +0x1d9
cpra/internal/controller/systems.NewScheduler(0xc006a800f0?, 0xc005340570, 0x5f5e100)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:30 +0x25
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:71 +0x525
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x6ed542]

goroutine 1 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map1[...]).Set(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:199
cpra/internal/controller/entities.(*EntityManager).CreateEntityFromMonitor(0xc000244160, {{0xc00001dce0, 0x21}, 0x1, {{0xc0001fa03c, 0x4}, 0x3b9aca00, 0x3b9aca00, 0x2, {0x0, ...}, ...}, ...})
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/entities/mapper.go:154 +0x1c2
cpra/internal/controller.NewCPRaWorld(0xc00002fd00)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/world.go:23 +0x1d9
cpra/internal/controller/systems.NewScheduler(0xc006717b30?, 0xc005ca8130, 0x5f5e100)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:30 +0x25
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:71 +0x525
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x6f0618]

goroutine 1 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map2[...]).Set(0x0?, {0x6b82b00?, 0x0?}, 0xc006398ff0?, 0xc00002f150?)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:493 +0x98
cpra/internal/controller/entities.(*EntityManager).CreateEntityFromMonitor(0xc000244160, {{0xc00001dec0, 0x21}, 0x1, {{0xc0001fbccc, 0x4}, 0x3b9aca00, 0x3b9aca00, 0x2, {0x0, ...}, ...}, ...})
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/entities/mapper.go:168 +0x365
cpra/internal/controller.NewCPRaWorld(0xc006399d00)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/world.go:23 +0x1d9
cpra/internal/controller/systems.NewScheduler(0xc006580000?, 0xc004595860, 0x5f5e100)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:30 +0x25
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:71 +0x525
panic: runtime error: integer divide by zero

goroutine 176 [running]:
github.com/mlange-42/ark-tools/system.(*PerfTimer).Update(0xc0070968c0, 0xc0000048e0?)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/system/perf_timer.go:30 +0x1d1
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:97 +0xb25
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x6fcb42]

goroutine 1 [running]:
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:81 +0x5a2
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x6f258f]

goroutine 1 [running]:
cpra/internal/controller/systems.NewScheduler(0xc000004808?, 0xc00558ba40, 0x5f5e100, 0x30?)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/scheduler.go:36 +0x6f
main.main()
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:90 +0x62b
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x6f229d]

goroutine 176 [running]:
github.com/mlange-42/ark/ecs.(*column).Get(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/column.go:36
github.com/mlange-42/ark/ecs.(*Map1[...]).Set(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:199
cpra/internal/controller/systems.(*PulseScheduleSystem).applyWork(0xc004faab80?, 0x0?, {0xc00203a000?, 0xb545c0?, 0x0?})
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:65 +0xbd
cpra/internal/controller/systems.(*PulseScheduleSystem).Update(0xc004faab80, 0xc0000048e0)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:72 +0x35
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:106 +0x41b
panic: entity already has component with ID 5, or it was added twice

goroutine 176 [running]:
github.com/mlange-42/ark/ecs.(*graph).Find(0xc0000049d0, 0x4c6f7b?, {0xc001f91fc4, 0x2, 0x7ffe00?}, {0x0, 0x0, 0x7ffe00?}, 0xc00619eba8)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/graph.go:62 +0x429
github.com/mlange-42/ark/ecs.(*storage).findOrCreateTable(0xc0000049a0, 0xc0004fc440, {0xc001f91fc4?, 0xc00636e000?, 0xc0063c63c8?}, {0x0?, 0x5aa925?, 0xc0000fcd20?}, {0x0, 0x0, ...}, ...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/storage.go:62 +0x6a
github.com/mlange-42/ark/ecs.(*World).exchange(0xc0000048e0, {0x0?, 0x0?}, {0xc001f91fc4?, 0x4115f4?, 0xc001f91fc4?}, {0x0?, 0x3c?, 0xc00619eca0?}, {0x0, ...})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/world_internal.go:44 +0x17c
github.com/mlange-42/ark/ecs.(*Exchange2[...]).ExchangeFn(0x8cfa40, {0x0, 0x0?}, 0xc00619ecc0?, {0x0, 0x2308?, 0x16ed?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:283 +0xd7
github.com/mlange-42/ark/ecs.(*Exchange2[...]).Exchange(0x0?, {0x0?, 0x0?}, 0xc0000048e0?, 0xc005302000?, {0x0?, 0x1?, 0xffffffffffffffff?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:266 +0x48
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000010390, 0x2328?, 0x0?)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:121 +0x326
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000010390, 0xc0000048e0)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:136 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:109 +0x527
panic: entity already has component with ID 5, or it was added twice

goroutine 32 [running]:
github.com/mlange-42/ark/ecs.(*graph).Find(0xc0000049d0, 0x4c6f7b?, {0xc0019f6654, 0x2, 0x7ffe00?}, {0x0, 0x0, 0x7ffe00?}, 0xc00182fba8)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/graph.go:62 +0x429
github.com/mlange-42/ark/ecs.(*storage).findOrCreateTable(0xc0000049a0, 0xc005bf0440, {0xc0019f6654?, 0xc001e84000?, 0xc001e99558?}, {0x0?, 0x5aa925?, 0xc006882eb0?}, {0x0, 0x0, ...}, ...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/storage.go:62 +0x6a
github.com/mlange-42/ark/ecs.(*World).exchange(0xc0000048e0, {0x0?, 0x0?}, {0xc0019f6654?, 0x4115f4?, 0xc0019f6654?}, {0x0?, 0x3c?, 0xc00182fca0?}, {0x0, ...})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/world_internal.go:44 +0x17c
github.com/mlange-42/ark/ecs.(*Exchange2[...]).ExchangeFn(0x8cfa40, {0x0, 0x0?}, 0xc00182fcc0?, {0x0, 0x23a0?, 0x1367?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:283 +0xd7
github.com/mlange-42/ark/ecs.(*Exchange2[...]).Exchange(0x0?, {0x0?, 0x0?}, 0xc0000048e0?, 0xc00007c070?, {0x0?, 0x1?, 0xffffffffffffffff?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:266 +0x48
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000010120, 0x2328?, 0x0?)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:121 +0x326
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000010120, 0xc0000048e0)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:136 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:109 +0x527
panic: entity already has component with ID 5, or it was added twice

goroutine 32 [running]:
github.com/mlange-42/ark/ecs.(*graph).Find(0xc0000045d0, 0x4c6f7b?, {0xc001dc0ea4, 0x2, 0x7ffe00?}, {0x0, 0x0, 0x7ffe00?}, 0xc000414b80)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/graph.go:62 +0x429
github.com/mlange-42/ark/ecs.(*storage).findOrCreateTable(0xc0000045a0, 0xc000c7a440, {0xc001dc0ea4?, 0xc005acc000?, 0xc005adaac8?}, {0x0?, 0x5aa925?, 0xc00057c140?}, {0x0, 0x0, ...}, ...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/storage.go:62 +0x6a
github.com/mlange-42/ark/ecs.(*World).exchange(0xc0000044e0, {0x0?, 0x0?}, {0xc001dc0ea4?, 0x4115f4?, 0xc001dc0ea4?}, {0x0?, 0xc000414ca8?, 0xc000414c78?}, {0x0, ...})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/world_internal.go:44 +0x17c
github.com/mlange-42/ark/ecs.(*Exchange2[...]).ExchangeFn(0x8cfac0, {0x0, 0x0?}, 0xc000414c98?, {0x0, 0x2308?, 0x3d2?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:283 +0xd7
github.com/mlange-42/ark/ecs.(*Exchange2[...]).Exchange(0x0?, {0x0?, 0x0?}, 0xc0000044e0?, 0x0?, {0x0?, 0x0?, 0x0?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:266 +0x48
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000010330, 0x2328?, 0x0?)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:125 +0x446
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000010330, 0xc0000044e0)
	/home/ziad/work/cpra/cpra-ark/cpra/internal/controller/systems/sys_pulse.go:140 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/work/cpra/cpra-ark/cpra/main.go:109 +0x527
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x118 pc=0x6f31f6]

goroutine 20 [running]:
cpra/internal/controller/systems.(*CodeDispatchSystem).collectWork(0xc0067820c0, 0xc0000050e0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:49 +0x496
cpra/internal/controller/systems.(*CodeDispatchSystem).Update(0xc0067820c0, 0xc0000050e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:90 +0x1d
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:121 +0x7c5
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x118 pc=0x6f320b]

goroutine 104 [running]:
cpra/internal/controller/systems.(*CodeDispatchSystem).collectWork(0xc000010030, 0xc0000048e0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:49 +0x4ab
cpra/internal/controller/systems.(*CodeDispatchSystem).Update(0xc000010030, 0xc0000048e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:90 +0x1d
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:121 +0x7c5
panic: entity already has component with ID 18, or it was added twice

goroutine 92 [running]:
github.com/mlange-42/ark/ecs.(*graph).Find(0xc0000051d0, 0xf01a9ea0?, {0xc001d14ea8, 0x2, 0x758938286108?}, {0x0, 0x0, 0x47689f?}, 0xc00261dc50)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/graph.go:62 +0x429
github.com/mlange-42/ark/ecs.(*storage).findOrCreateTable(0xc0000051a0, 0xc0004fc868, {0xc001d14ea8?, 0xc003c26640?, 0x7c5960?}, {0x0?, 0x81d400?, 0xc00019ad28?}, {0x0, 0x0, ...}, ...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/storage.go:62 +0x6a
github.com/mlange-42/ark/ecs.(*World).exchange(0xc0000050e0, {0x4?, 0x0?}, {0xc001d14ea8?, 0x4115f4?, 0xc001d14ea8?}, {0x0?, 0xc00261def0?, 0xc00261dd48?}, {0x0, ...})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/world_internal.go:44 +0x17c
github.com/mlange-42/ark/ecs.(*Exchange2[...]).ExchangeFn(0x8d7ee0, {0x261dd60, 0xc0?}, 0xc00261dd68?, {0x0, 0xc00261dd88?, 0x41299a?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:283 +0xd7
github.com/mlange-42/ark/ecs.(*Exchange2[...]).Exchange(0x0?, {0x261de90?, 0xc0?}, 0x0?, 0x0?, {0x0?, 0x0?, 0x1336?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/exchange_gen.go:266 +0x48
cpra/internal/controller/systems.(*CodeDispatchSystem).applyWork(0xc0022d0168, 0xc0000050e0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:79 +0x177
cpra/internal/controller/systems.(*CodeDispatchSystem).Update(0xc0022d0168, 0xc0000050e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:92 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:121 +0x7c5
panic: entity already has component with ID 18, or it was added twice

goroutine 98 [running]:
github.com/mlange-42/ark/ecs.(*graph).Find(0xc0000051d0, 0x1?, {0xc001c923b3, 0x1, 0x4879dd?}, {0x0, 0x0, 0xc002da9890?}, 0xc002da9948)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/graph.go:62 +0x429
github.com/mlange-42/ark/ecs.(*storage).findOrCreateTable(0xc0000051a0, 0xc003292dc0, {0xc001c923b3?, 0x0?, 0x0?}, {0x0?, 0xc002da9950?, 0x4760f9?}, {0x0, 0x0, ...}, ...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/storage.go:62 +0x6a
github.com/mlange-42/ark/ecs.(*World).exchange(0xc0000050e0, {0x1f062b8?, 0xc0?}, {0xc001c923b3?, 0xb68540?, 0xc001c923b3?}, {0x0?, 0x644780?, 0xc001f062b8?}, {0x0, ...})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/world_internal.go:44 +0x17c
github.com/mlange-42/ark/ecs.(*Map1[...]).AddFn(0x10, {0x7998a0?, 0x0?}, 0xc002da9a60?, {0x0, 0xc002da9a78?, 0x475d26?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:177 +0xcf
github.com/mlange-42/ark/ecs.(*Map1[...]).Add(0x0?, {0x2?, 0x0?}, 0xc002da9c28?, {0x0?, 0x199?, 0xc002da9ae0?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:163 +0x3a
cpra/internal/controller/systems.(*InterventionResultSystem).processInterventionResultsAndQueueStructuralChanges(0xc0039b20b0, 0xc0000050e0, 0x24c7?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:120 +0x467
cpra/internal/controller/systems.(*InterventionResultSystem).Update(0xc0039b20b0, 0xc0000050e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:158 +0x185
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:114 +0x827
panic: entity already has component with ID 18, or it was added twice

goroutine 20 [running]:
github.com/mlange-42/ark/ecs.(*graph).Find(0xc0000051d0, 0x1?, {0xc000d09b53, 0x1, 0x4879dd?}, {0x0, 0x0, 0xc001b25880?}, 0xc001b25938)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/graph.go:62 +0x429
github.com/mlange-42/ark/ecs.(*storage).findOrCreateTable(0xc0000051a0, 0xc00264edc0, {0xc000d09b53?, 0x0?, 0x0?}, {0x0?, 0xc000095008?, 0xc001ef23f0?}, {0x0, 0x0, ...}, ...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/storage.go:62 +0x6a
github.com/mlange-42/ark/ecs.(*World).exchange(0xc0000050e0, {0x15bc120?, 0xc0?}, {0xc000d09b53?, 0xb685c0?, 0xc000d09b53?}, {0x0?, 0x644780?, 0xc0015bc120?}, {0x0, ...})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/world_internal.go:44 +0x17c
github.com/mlange-42/ark/ecs.(*Map1[...]).AddFn(0x10, {0x7998a0?, 0x0?}, 0xc001b25a50?, {0x0, 0xc001b25a68?, 0x475d26?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:177 +0xcf
github.com/mlange-42/ark/ecs.(*Map1[...]).Add(0x0?, {0x2?, 0x0?}, 0xc001b25c50?, {0x0?, 0xc00036b408?, 0x12?})
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark@v0.4.3/ecs/maps_gen.go:163 +0x3a
cpra/internal/controller/systems.(*InterventionResultSystem).processInterventionResultsAndQueueStructuralChanges(0xc003e46b90, 0xc0000050e0, 0x154f?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:120 +0x547
cpra/internal/controller/systems.(*InterventionResultSystem).Update(0xc003e46b90, 0xc0000050e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:158 +0x185
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000005008)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:114 +0x827
panic: send on closed channel

goroutine 5 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000010018, 0x1?, 0xb6c820?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:108 +0x105
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000010018, 0xc0001224e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:139 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000122408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000122408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000122408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:122 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:120 +0x886
panic: send on closed channel

goroutine 164 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000010120, 0x1?, 0xb71820?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:118 +0x105
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000010120, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:147 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:142 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:140 +0xab8
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc00084a000, 0x2?, 0xb74820?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:118 +0x105
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc00084a000, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:147 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:194 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:192 +0xc78
panic: send on closed channel

goroutine 2338 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000a46000, 0x1?, 0xb74820?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:118 +0x105
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000a46000, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:147 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:194 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:192 +0xc58
panic: send on closed channel

goroutine 5 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000010090, 0x395?, 0xb74820?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:118 +0x105
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000010090, 0xc0000048e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:147 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:194 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:192 +0xc58
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000aca000, 0x2?, 0xb77860?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:127 +0x10b
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000aca000, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:163 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc0008fe000, 0xb?, 0xb76860?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:127 +0x10b
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc0008fe000, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:163 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2326 [running]:
cpra/internal/controller/systems.(*PulseDispatchSystem).applyWork(0xc000cfa000, 0x17?, 0xb77860?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:127 +0x10b
cpra/internal/controller/systems.(*PulseDispatchSystem).Update(0xc000cfa000, 0xc0000048e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_pulse.go:163 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*InterventionDispatchSystem).applyWork(0xc0000b8370, 0xc000004ce0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:56 +0xce
cpra/internal/controller/systems.(*InterventionDispatchSystem).Update(0xc0000b8370, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:94 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*InterventionDispatchSystem).applyWork(0xc0000b8370, 0xc000004ce0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:56 +0xce
cpra/internal/controller/systems.(*InterventionDispatchSystem).Update(0xc0000b8370, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:94 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*InterventionDispatchSystem).applyWork(0xc0066a8160, 0xc000004ce0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:56 +0xce
cpra/internal/controller/systems.(*InterventionDispatchSystem).Update(0xc0066a8160, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:94 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2326 [running]:
cpra/internal/controller/systems.(*CodeDispatchSystem).applyWork(0xc0008ce018, 0xc00012a4e0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:77 +0xe5
cpra/internal/controller/systems.(*CodeDispatchSystem).Update(0xc0008ce018, 0xc00012a4e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_code.go:113 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc00012a408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc00012a408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc00012a408)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2326 [running]:
cpra/internal/controller/systems.(*InterventionDispatchSystem).applyWork(0xc000144370, 0xc0000048e0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:58 +0xe5
cpra/internal/controller/systems.(*InterventionDispatchSystem).Update(0xc000144370, 0xc0000048e0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:97 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004808)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
panic: send on closed channel

goroutine 2324 [running]:
cpra/internal/controller/systems.(*InterventionDispatchSystem).applyWork(0xc006620160, 0xc000004ce0, 0x0?)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:58 +0xe5
cpra/internal/controller/systems.(*InterventionDispatchSystem).Update(0xc006620160, 0xc000004ce0)
	/home/ziad/Desktop/work/ark-migration/cpra/internal/controller/systems/sys_intervention.go:97 +0x2f
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsSimple(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:284
github.com/mlange-42/ark-tools/app.(*Systems).updateSystemsTimed(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:307 +0x1b4
github.com/mlange-42/ark-tools/app.(*Systems).update(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:215 +0x25
github.com/mlange-42/ark-tools/app.(*Systems).run(0xc000004c08)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/systems.go:360 +0x36
github.com/mlange-42/ark-tools/app.(*App).Run(...)
	/home/ziad/go/pkg/mod/github.com/mlange-42/ark-tools@v0.1.5/app/app.go:80
main.main.func1()
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:214 +0x4a
created by main.main in goroutine 1
	/home/ziad/Desktop/work/ark-migration/cpra/main.go:212 +0xd98
