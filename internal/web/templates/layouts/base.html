<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CPRA - Continuous Pulse and Recovery Agent Monitoring Dashboard">
    <meta name="theme-color" content="#141414">
    <title>{{block "title" .}}CPRA Monitoring Dashboard{{end}}</title>
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Core CSS -->
    <link rel="stylesheet" href="/static/css/main.css">
    
    <!-- Additional page-specific CSS -->
    {{block "styles" .}}{{end}}
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/static/icons/cpra-logo.svg">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header -->
    <header class="header" role="banner">
        <div class="header__container">
            <div class="header__brand">
                <svg class="header__logo" width="40" height="40" viewBox="0 0 40 40" aria-hidden="true">
                    <circle cx="20" cy="20" r="18" fill="#00D563" opacity="0.1"/>
                    <path d="M20 5 C28 5, 35 12, 35 20 C35 28, 28 35, 20 35 C12 35, 5 28, 5 20 C5 12, 12 5, 20 5 Z" 
                          stroke="#00D563" stroke-width="2" fill="none"/>
                    <circle cx="20" cy="20" r="4" fill="#00D563"/>
                    <path d="M20 14 L20 10 M20 30 L20 26 M14 20 L10 20 M30 20 L26 20" 
                          stroke="#00D563" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <h1 class="header__title">CPRA</h1>
                <span class="header__subtitle">Monitoring Dashboard</span>
            </div>
            
            <nav class="header__nav" role="navigation" aria-label="Main navigation">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="/" class="nav-link" {{if eq .CurrentPage "dashboard"}}aria-current="page"{{end}}>
                            <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true">
                                <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 6a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zm8 0a1 1 0 011-1h4a1 1 0 011 1v6a1 1 0 01-1 1h-4a1 1 0 01-1-1v-6z" fill="currentColor"/>
                            </svg>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/monitors" class="nav-link" {{if eq .CurrentPage "monitors"}}aria-current="page"{{end}}>
                            <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true">
                                <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" fill="currentColor"/>
                            </svg>
                            <span>Monitors</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/alerts" class="nav-link" {{if eq .CurrentPage "alerts"}}aria-current="page"{{end}}>
                            <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true">
                                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zm0 16a3 3 0 01-3-3h6a3 3 0 01-3 3z" fill="currentColor"/>
                            </svg>
                            <span>Alerts</span>
                            {{if .UnreadAlerts}}
                            <span class="badge badge--red" role="status" aria-label="{{.UnreadAlerts}} unread alerts">{{.UnreadAlerts}}</span>
                            {{end}}
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/metrics" class="nav-link" {{if eq .CurrentPage "metrics"}}aria-current="page"{{end}}>
                            <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true">
                                <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zm6-4a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zm6-3a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" fill="currentColor"/>
                            </svg>
                            <span>Metrics</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="header__actions">
                <button class="btn btn--icon" aria-label="Toggle theme" id="theme-toggle">
                    <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true">
                        <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill="currentColor"/>
                    </svg>
                </button>
                
                <div class="status-indicator" role="status" aria-live="polite">
                    <span class="status-indicator__dot status-indicator__dot--{{.SystemStatus}}"></span>
                    <span class="status-indicator__text">{{.SystemStatusText}}</span>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main id="main-content" class="main" role="main">
        {{block "content" .}}{{end}}
    </main>
    
    <!-- Toast Notifications -->
    <div class="toast-container" role="region" aria-label="Notifications" aria-live="polite"></div>
    
    <!-- Core JavaScript -->
    <script src="/static/js/main.js"></script>
    
    <!-- Additional page-specific scripts -->
    {{block "scripts" .}}{{end}}
</body>
</html>
